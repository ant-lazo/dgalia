(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"E+s+":function(e,t,o){"use strict";o.r(t),o.d(t,"AuthSignInModule",function(){return M});var n=o("tyNb"),r=o("bTqV"),s=o("bSwM"),a=o("kmnG"),i=o("NFeN"),c=o("qFsG"),b=o("Xa2L"),l=o("0axx"),m=o("nq2W"),d=o("PCNd"),u=o("3Pt+"),g=o("N6Hb");class p{constructor(e){this.title=e.title,this.emailAddressInput=e.emailAddressInput,this.passwordInput=e.passwordInput,this.rememberLabel=e.rememberLabel,this.forgotPasswordLabel=e.forgotPasswordLabel,this.signInButtonText=e.signInButtonText,this.backgroudTextTitle=e.backgroudTextTitle,this.backgroudTextSubTitle=e.backgroudTextSubTitle,this.seeMoreButtonLabel=e.seeMoreButtonLabel,this.seeMoreButtonLink=e.seeMoreButtonLink,this.backgroundImageLink=e.backgroundImageLink}}class h{getUiElementa(e){return new p({title:e.title,emailAddressInput:e.emailAddressInput,passwordInput:e.passwordInput,rememberLabel:e.rememberLabel,forgotPasswordLabel:e.forgotPasswordLabel,signInButtonText:e.signInButtonText,backgroudTextTitle:e.backgroudTextTitle,backgroudTextSubTitle:e.backgroudTextSubTitle,seeMoreButtonLabel:e.seeMoreButtonLabel,seeMoreButtonLink:e.seeMoreButtonLink,backgroundImageLink:e.backgroundImageLink})}}var f=o("fXoL"),I=o("Vurf"),k=o("ofXK"),w=o("JriS"),L=o("w2tG");function v(e,t){if(1&e&&(f.Qb(0,"treo-message",27),f.zc(1),f.Pb()),2&e){const e=f.bc(2);f.hc("appearance",e.message.appearance)("showIcon",e.message.showIcon)("type",e.message.type)("@shake",e.message.shake),f.zb(1),f.Bc(" ",e.message.content," ")}}function P(e,t){1&e&&f.Lb(0,"mat-icon",28),2&e&&f.hc("svgIcon","visibility")}function z(e,t){1&e&&f.Lb(0,"mat-icon",28),2&e&&f.hc("svgIcon","visibility_off")}function y(e,t){if(1&e&&(f.Qb(0,"span"),f.zc(1),f.Pb()),2&e){const e=f.bc(2);f.zb(1),f.Bc(" ",e.model.signInButtonText," ")}}function x(e,t){1&e&&f.Lb(0,"mat-progress-spinner",29),2&e&&f.hc("diameter",24)("mode","indeterminate")}const B=function(){return["/forgot-password"]};function T(e,t){if(1&e){const e=f.Rb();f.Qb(0,"div",1),f.Qb(1,"treo-card",2),f.Qb(2,"div",3),f.Qb(3,"div",4),f.Qb(4,"div",5),f.Lb(5,"img",6),f.Pb(),f.Qb(6,"div",7),f.zc(7),f.Pb(),f.xc(8,v,2,5,"treo-message",8),f.Qb(9,"form",9),f.Qb(10,"mat-form-field"),f.Qb(11,"mat-label"),f.zc(12),f.Pb(),f.Lb(13,"input",10),f.Pb(),f.Qb(14,"mat-form-field"),f.Qb(15,"mat-label"),f.zc(16),f.Pb(),f.Lb(17,"input",11,12),f.Qb(19,"button",13),f.Xb("click",function(){f.pc(e);const t=f.nc(18);return t.type="password"===t.type?"text":"password"}),f.xc(20,P,1,1,"mat-icon",14),f.xc(21,z,1,1,"mat-icon",14),f.Pb(),f.Pb(),f.Qb(22,"div",15),f.Qb(23,"div",16),f.Qb(24,"mat-checkbox",17),f.zc(25),f.Pb(),f.Pb(),f.Qb(26,"a",18),f.zc(27),f.Pb(),f.Pb(),f.Qb(28,"button",19),f.Xb("click",function(){return f.pc(e),f.bc().signIn()}),f.xc(29,y,2,1,"span",20),f.xc(30,x,1,2,"mat-progress-spinner",21),f.Pb(),f.Pb(),f.Pb(),f.Pb(),f.Qb(31,"div",22),f.Lb(32,"img",23),f.Qb(33,"div",24),f.Qb(34,"div",7),f.Qb(35,"span"),f.zc(36),f.Pb(),f.Pb(),f.Qb(37,"div",25),f.zc(38),f.Pb(),f.Qb(39,"button",26),f.Xb("click",function(){f.pc(e);const t=f.bc();return t.goToseeMorePage(t.model.seeMoreButtonLink)}),f.zc(40),f.Pb(),f.Pb(),f.Pb(),f.Pb(),f.Pb()}if(2&e){const e=f.nc(18),t=f.bc();f.zb(7),f.Bc("",t.model.title," "),f.zb(1),f.hc("ngIf",t.message),f.zb(1),f.hc("formGroup",t.signInForm),f.zb(3),f.Bc(" ",t.model.emailAddressInput," "),f.zb(1),f.hc("formControlName","email"),f.zb(3),f.Bc(" ",t.model.passwordInput," "),f.zb(1),f.hc("formControlName","password"),f.zb(3),f.hc("ngIf","password"===e.type),f.zb(1),f.hc("ngIf","text"===e.type),f.zb(3),f.hc("color","primary")("formControlName","rememberMe"),f.zb(1),f.Bc(" ",t.model.rememberLabel," "),f.zb(1),f.hc("routerLink",f.ic(22,B)),f.zb(1),f.Bc(" ",t.model.forgotPasswordLabel," "),f.zb(1),f.hc("color","primary")("disabled",t.signInForm.disabled),f.zb(1),f.hc("ngIf",!t.signInForm.disabled),f.zb(1),f.hc("ngIf",t.signInForm.disabled),f.zb(2),f.hc("src",t.model.backgroundImageLink,f.rc),f.zb(4),f.Bc(" ",t.model.backgroudTextTitle,""),f.zb(2),f.Bc(" ",t.model.backgroudTextSubTitle," "),f.zb(2),f.Bc(" ",t.model.seeMoreButtonLabel," ")}}const Q=[{path:"",component:(()=>{class e{constructor(e,t,o,n){this._activatedRoute=e,this._authService=t,this._formBuilder=o,this._router=n,this.message=null,this.setModel()}ngOnInit(){this.signInForm=this._formBuilder.group({email:[null,[u.r.required,u.r.email]],password:[null,u.r.required],rememberMe:[""]}),this.verifyRemember()}signIn(){this.signInForm.disable(),this.message=null;const e=this.signInForm.value;e.rememberMe&&this._authService.setRemember(e.email),this._authService.signIn(e).subscribe(()=>{const e=this._activatedRoute.snapshot.queryParamMap.get("redirectURL")||"/signed-in-redirect";this._router.navigateByUrl(e)},e=>{console.log(e.error.error),this.signInForm.enable(),this.message={appearance:"outline",content:e.error.error.description,shake:!0,showIcon:!1,type:"error"}})}setModel(){const e=this._activatedRoute.snapshot.data;e&&(this.mapper=new h,this.model=this.mapper.getUiElementa(e),console.log(this.model))}goToseeMorePage(e){window.open(e,"_blank")}verifyRemember(){this._authService.getRemember()&&this.signInForm.controls.email.setValue(this._authService.getRemember())}}return e.\u0275fac=function(t){return new(t||e)(f.Kb(n.a),f.Kb(I.a),f.Kb(u.c),f.Kb(n.d))},e.\u0275cmp=f.Eb({type:e,selectors:[["auth-sign-in"]],decls:1,vars:1,consts:[["class","content-layout fullwidth-basic-normal-scroll",4,"ngIf"],[1,"content-layout","fullwidth-basic-normal-scroll"],[1,"auth-card","fullscreen"],[1,"form-container"],[1,"form"],[1,"logo"],["src","assets/images/dgalia/backgroud/dgallia.jpg"],[1,"title"],[3,"appearance","showIcon","type",4,"ngIf"],[3,"formGroup"],["id","email","matInput","",3,"formControlName"],["id","password","matInput","","type","password",3,"formControlName"],["passwordField",""],["mat-icon-button","","tabindex","-1","matSuffix","",3,"click"],[3,"svgIcon",4,"ngIf"],[1,"field-footer"],[1,"remember-me"],[3,"color","formControlName"],[1,"link",3,"routerLink"],["mat-flat-button","","type","button",1,"submit-button","treo-mat-button-large",3,"color","disabled","click"],[4,"ngIf"],[3,"diameter","mode",4,"ngIf"],[1,"content-container"],["alt","background",1,"background",2,"object-fit","cover",3,"src"],[1,"content"],[1,"description"],["mat-stroked-button","",1,"learn-more-button",3,"click"],[3,"appearance","showIcon","type"],[3,"svgIcon"],[3,"diameter","mode"]],template:function(e,t){1&e&&f.xc(0,T,41,23,"div",0),2&e&&f.hc("ngIf",t.model)},directives:[k.m,w.a,u.s,u.m,u.g,a.d,a.g,c.a,u.b,u.l,u.f,r.a,a.i,s.a,n.g,L.a,i.a,b.a],styles:["@keyframes rotation{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}auth-sign-in .content-layout{align-items:center;justify-content:center}.logo{width:100%!important}"],encapsulation:2,data:{animation:g.a}}),e})()}];let M=(()=>{class e{}return e.\u0275mod=f.Ib({type:e}),e.\u0275inj=f.Hb({factory:function(t){return new(t||e)},imports:[[n.h.forChild(Q),r.b,s.b,a.f,i.b,c.b,b.b,l.a,m.a,d.a]]}),e})()}}]);